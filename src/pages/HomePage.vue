<script setup lang="ts">
import { ref, computed } from 'vue'
import { useRouter } from 'vue-router'
import { Button, Divider, Card } from 'primevue'
import { useAuthStore } from '@/entities/auth'

const router = useRouter()
const authStore = useAuthStore()

const features = ref([
  {
    icon: 'pi pi-sync',
    title: '–ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ',
    description: '–°–∏—Å—Ç–µ–º–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —É—Å–≤–æ–µ–Ω–∏—è —Å–ª–æ–≤ –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏'
  },
  {
    icon: 'pi pi-user-edit',
    title: '–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è',
    description: '–ö–æ–Ω—Ç–µ–Ω—Ç –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è'
  },
  {
    icon: 'pi pi-check-circle',
    title: '–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥',
    description: '–û–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–∫—Ç–∏–≤–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–∑—É—á–∞–µ–º—ã—Ö —Å–ª–æ–≤'
  },
  {
    icon: 'pi pi-comments',
    title: '–î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å',
    description: '–ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ'
  },
  {
    icon: 'pi pi-chart-line',
    title: '–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞',
    description: '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è'
  },
  {
    icon: 'pi pi-bolt',
    title: '–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑',
    description: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ò–ò –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤'
  }
])

const isLoggedIn = computed(() => authStore.isLoggedIn)

const redirectToLogin = () => {
  router.push('/login')
}

const redirectToRegister = () => {
  router.push('/register')
}

const redirectToDashboard = () => {
  router.push('/dashboard')
}

const redirectToAssessment = () => {
  router.push('/assessment')
}
</script>

<template>
  <div class="container mx-auto px-4 py-8 sm:px-6 lg:px-8">
    <!-- –ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä -->
    <section class="mb-16 text-center">
      <h1 class="mb-6 text-4xl font-extrabold tracking-tight text-indigo-900 sm:text-5xl md:text-6xl">
        –ò–∑—É—á–∞–π—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π <span class="text-indigo-600">—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ</span>
      </h1>
      <p class="mx-auto mb-8 max-w-3xl text-xl text-gray-600">
        –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö
        –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∏ —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <template v-if="!isLoggedIn">
          <Button
            label="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
            icon="pi pi-user-plus"
            severity="primary"
            size="large"
            @click="redirectToRegister"
          />
          <Button
            label="–í–æ–π—Ç–∏"
            icon="pi pi-sign-in"
            outlined
            severity="primary"
            size="large"
            @click="redirectToLogin"
          />
        </template>
        <template v-else>
          <Button
            v-if="authStore.user?.studyLevel"
            label="–ú–æ–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è"
            icon="pi pi-book"
            severity="primary"
            size="large"
            @click="redirectToDashboard"
          />
          <Button
            v-else
            label="–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å"
            icon="pi pi-chart-bar"
            severity="primary"
            size="large"
            @click="redirectToAssessment"
          />
        </template>
      </div>
    </section>

    <Divider />

    <!-- –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ -->
    <section class="mb-16">
      <h2 class="mb-10 text-center text-3xl font-bold text-indigo-800">–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h2>
      <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <Card v-for="feature in features" :key="feature.title" class="transition-all hover:shadow-lg">
          <template #header>
            <div class="flex justify-center p-4">
              <i :class="[feature.icon, 'text-4xl text-indigo-600']"></i>
            </div>
          </template>
          <template #title>
            <h3 class="text-center text-xl font-semibold text-indigo-700">{{ feature.title }}</h3>
          </template>
          <template #content>
            <p class="text-center text-gray-600">{{ feature.description }}</p>
          </template>
        </Card>
      </div>
    </section>

    <Divider />

    <!-- –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
    <section class="mb-16">
      <h2 class="mb-10 text-center text-3xl font-bold text-indigo-800">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
      <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
        <div class="flex flex-col justify-center">
          <h3 class="mb-4 text-2xl font-semibold text-indigo-700">–®–∞–≥ –∑–∞ —à–∞–≥–æ–º –∫ —Å–≤–æ–±–æ–¥–Ω–æ–º—É –≤–ª–∞–¥–µ–Ω–∏—é</h3>
          <ul class="space-y-4">
            <li class="flex items-start">
              <i class="pi pi-check-circle mr-2 mt-1 text-green-500"></i>
              <span
                >–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ —Å–≤–æ–π –Ω–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–∞–¥–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–º —è–∑—ã–∫–æ–º</span
              >
            </li>
            <li class="flex items-start">
              <i class="pi pi-check-circle mr-2 mt-1 text-green-500"></i>
              <span
                >–ü–æ–ª—É—á–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥ —Å —É—á–µ—Ç–æ–º –≤–∞—à–µ–≥–æ —É—Ä–æ–≤–Ω—è</span
              >
            </li>
            <li class="flex items-start">
              <i class="pi pi-check-circle mr-2 mt-1 text-green-500"></i>
              <span>–ü–µ—Ä–µ–≤–æ–¥–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞ —Ä—É—Å—Å–∫–∏–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –æ—Ü–µ–Ω–∫—É</span>
            </li>
            <li class="flex items-start">
              <i class="pi pi-check-circle mr-2 mt-1 text-green-500"></i>
              <span
                >–°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ
                –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ª–æ–∂–Ω—ã–º —Å–ª–æ–≤–∞–º –∏ —Ç–µ–º–∞–º</span
              >
            </li>
            <li class="flex items-start">
              <i class="pi pi-check-circle mr-2 mt-1 text-green-500"></i>
              <span
                >–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ, –∫–∞–∫ —Ä–∞—Å—Ç–µ—Ç –≤–∞—à —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å</span
              >
            </li>
          </ul>
        </div>
        <div class="flex items-center justify-center">
          <div class="relative h-80 w-full overflow-hidden rounded-lg bg-indigo-100 shadow-md">
            <div
              class="absolute inset-0 flex flex-col items-center justify-center p-6 text-center"
            >
              <i class="pi pi-language mb-4 text-6xl text-indigo-600"></i>
              <p class="text-lg font-medium text-gray-800">
                "–Ø –≤—ã–≥—É–ª–∏–≤–∞—é —Å–≤–æ—é —Å–æ–±–∞–∫—É –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ"
              </p>
              <p class="mt-2 font-light text-gray-600">I walk my dog every morning</p>
              <div class="mt-4 rounded bg-green-100 px-3 py-1 text-sm text-green-800">
                –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥! üéâ
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <Divider />

    <!-- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é -->
    <section class="rounded-2xl bg-indigo-100 p-8 text-center">
      <h2 class="mb-4 text-3xl font-bold text-indigo-800">–ù–∞—á–Ω–∏—Ç–µ –∏–∑—É—á–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —É–∂–µ —Å–µ–π—á–∞—Å</h2>
      <p class="mx-auto mb-6 max-w-2xl text-lg text-gray-700">
        –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <template v-if="!isLoggedIn">
          <Button
            label="–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç"
            severity="primary"
            size="large"
            @click="redirectToRegister"
          />
        </template>
        <template v-else>
          <Button
            v-if="authStore.user?.studyLevel"
            label="–ü–µ—Ä–µ–π—Ç–∏ –∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º"
            severity="primary"
            size="large"
            @click="redirectToDashboard"
          />
          <Button
            v-else
            label="–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å"
            severity="primary"
            size="large"
            @click="redirectToAssessment"
          />
        </template>
      </div>
    </section>
  </div>
</template>
